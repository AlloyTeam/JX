(function(){var f=this,e=f.Jx,p={},u={},r={NO_DEBUG:0,SHOW_ALL:1},s={debug:1},t=function(g,q,h){g=String(g);if(s.debug)if(this.console)this.console.out?this.console.out(g,q,h):alert(g+" - \u6d88\u606f\u7c7b\u578b["+h+"]");return g};try{if(typeof e==="undefined"||e.mark&&e.mark==="JxMark"){if(e){p=e.VERSIONS;u=e.PACKAGES}e=function(g,q){var h=this;if(q)this._init();else if(g){g=String(g);try{if(e.VERSIONS[g])h=e.VERSIONS[g];else{h=e.VERSIONS[e.DEFAULT_VERSION];throw Error("\u6ca1\u6709\u627e\u5230 JET version "+
g+", \u6240\u4ee5\u8fd4\u56de\u9ed8\u8ba4\u7248\u672c JET version "+e.DEFAULT_VERSION+"!");}}catch(l){h.out("A.\u9519\u8bef\uff1a["+l.name+"] "+l.message+", "+l.fileName+", \u884c\u53f7:"+l.lineNumber+"; stack:"+typeof l.stack,2)}}else h=e.VERSIONS[e.DEFAULT_VERSION];return h};e.prototype={version:"1.0",DEBUG:r,option:s,_init:function(){this.constructor=e},$namespace:function(g){var q,h=g.split("."),l=window;for(g=0;g<h.length;g+=1){q=h[g];l[q]=l[q]||{};l=l[h[g]]}return l},$package:function(){var g=
arguments[0],q=arguments[arguments.length-1],h=f;if(typeof q==="function"){if(typeof g==="string"){h=this.$namespace(g);e.PACKAGES[g]||(e.PACKAGES[g]={isLoaded:true,returnValue:void 0});h.packageName=g}else if(typeof g==="object")h=g;q.call(h,this)}else throw Error("Function required");},checkPackage:function(g){return e.PACKAGES[g]},out:t,debug:function(){},profile:function(){},warn:function(){},error:function(){},startTime:+new Date,about:function(){return this.out("JET (Javascript Extend Tools)\nversion: "+
this.version+"\n\nCopyright (c) 2009, All rights reserved.")},toString:function(){return"JET version "+this.version+" !"}};e.VERSIONS=p;e.PACKAGES=u;e.VERSIONS["1.0"]=new e("1.0",true);e.DEFAULT_VERSION="1.0";e.mark="JxMark";f.Jet=f.Jx=e}else throw Error('"Jx" name is defined in other javascript code !!!');}catch(k){t("JET \u5fae\u5185\u6838\u521d\u59cb\u5316\u5931\u8d25! B.\u9519\u8bef\uff1a["+k.name+"] "+k.message+", "+k.fileName+", \u884c\u53f7:"+k.lineNumber+"; stack:"+typeof k.stack,1)}})();
Jx().$package(function(f){var e,p,u,r,s,t,k,g,q,h,l;e=function(a){return typeof a==="undefined"};p=function(a){return a===null};u=function(a){return(a===0||a)&&a.constructor===Number};s=function(a){return(a===false||a)&&a.constructor===Boolean};r=function(a){return(a===""||a)&&a.constructor===String};t=function(a){return a&&a.constructor===Object||String(a)==="[object Object]"};k=function(a){return a&&a.constructor===Array||Object.prototype.toString.call(a)==="[object Array]"};g=function(a){return a&&
a.callee&&u(a.length)?true:false};q=function(a){return a&&a.constructor===Function};h=function(a){var b=arguments,c,d;if(b.length===1){a=this;b=0}else{a=b[0]||{};b=1}for(;b<arguments.length;b++){d=arguments[b];for(c in d){var j=a[c],m=d[c];if(j!==m)if(m&&t(m)&&!k(m)&&!m.nodeType&&!q(m)){j=a[c]||{};a[c]=h(j,m||(m.length!=null?[]:{}))}else if(m!==undefined)a[c]=m}}return a};l=function(){var a=arguments.length,b=arguments[a-1];b.init=b.init||function(){};if(a===2){a=arguments[0].extend;var c=function(){};
c.prototype=a.prototype;var d=function(){this.init.apply(this,arguments)};d.superClass=a.prototype;d.callSuper=function(j,m){var v=Array.prototype.slice,y=v.call(arguments,2);(m=d.superClass[m])&&m.apply(j,y.concat(v.call(arguments)))};d.prototype=new c;d.prototype.constructor=d;f.extend(d.prototype,b);d.prototype.init=function(){b.init.apply(this,arguments)};return d}else if(a===1){a=function(){return this.init.apply(this,arguments)};a.prototype=b;return a}};var n=new l({init:function(a,b,c,d,j){var m=
a.concat();if(d)m=a;this.timeout=window.setTimeout(function(){var v=+new Date;do b.call(c,m.shift());while(m.length>0&&+new Date-v<50);if(m.length>0)this.timeout=window.setTimeout(arguments.callee,25);else j&&j(a)},25)},stop:function(){clearTimeout(this.timeout)}});f.isUndefined=e;f.isNull=p;f.isNumber=u;f.isString=r;f.isBoolean=s;f.isObject=t;f.isArray=k;f.isArguments=g;f.isFunction=q;f.$typeof=function(a){return e(a)?"undefined":p(a)?"null":u(a)?"number":s(a)?"boolean":r(a)?"string":t(a)?"object":
k(a)?"array":g(a)?"arguments":q(a)?"function":"other"};f.$return=function(a){return f.isFunction(a)?a:function(){return a}};f.$try=function(){var a,b=arguments.length,c;for(a=0;a<b;a++)try{c=arguments[a]();break}catch(d){f.out("C.\u9519\u8bef\uff1a["+d.name+"] "+d.message+", "+d.fileName+", \u884c\u53f7:"+d.lineNumber+"; stack:"+typeof d.stack,2)}return c};f.emptyFunc=function(){};f.clone=function(a){var b=function(){};b.prototype=a;return new b};f.getLength=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&
c++;return c};f.checkJSON=function(){return true};f.random=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)};f.extend=h;f.now=function(){return+new Date};f.timedChunk=function(a,b,c,d,j){var m=a.concat();if(d)m=a;window.setTimeout(function(){var v=+new Date;do b.call(c,m.shift());while(m.length>0&&+new Date-v<50);if(m.length>0)window.setTimeout(arguments.callee,25);else j&&j(a)},25)};f.rebuild=function(a,b){b=b||{};a.$$rebuildedFunc=a.$$rebuildedFunc||function(){var c,d;c=b.contextObj||this;
d=Array.prototype.slice.call(arguments,0);if(d!==undefined)d=d.concat(b.arguments);if(b.event===false)d=d.slice(1);return a.apply(c,d)};return a.$$rebuildedFunc};f.pass=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);return function(){return a.apply(this,c.concat(b.call(arguments)))}};f.bind=function(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}};f.bindNoEvent=void 0;f.Class=l;f.Chunk=n});
Jx().$package(function(f){f.array=f.array||{};var e=f.array,p,u,r,s,t,k,g,q,h,l,n,a;p=Array.prototype.indexOf?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.indexOf.apply(arguments[0],b)}:function(b,c,d){if(d==null)d=0;else if(d<0)d=Math.max(0,b.length+d);for(d=d;d<b.length;d++)if(b[d]===c)return d;return-1};u=Array.prototype.lastIndexOf?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.lastIndexOf.apply(arguments[0],b)}:function(b,c,
d){if(d==null)d=b.length-1;else if(d<0)d=Math.max(0,b.length+d);for(d=d;d>=0;d--)if(b[d]===c)return d;return-1};r=Array.prototype.forEach?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.forEach.apply(arguments[0],b)}:function(b,c,d){var j=b.length;if(typeof c!="function")throw new TypeError;for(var m=0;m<j;m++)m in b&&c.call(d,b[m],m,b)};s=Array.prototype.filter?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.filter.apply(arguments[0],
b)}:function(b,c,d){var j=b.length;if(typeof c!="function")throw new TypeError;for(var m=[],v=0;v<j;v++)if(v in b){var y=b[v];c.call(d,y,v,b)&&m.push(y)}return m};t=Array.prototype.some?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.some.apply(arguments[0],b)}:function(b,c,d){var j=b.length;if(typeof c!="function")throw new TypeError;for(var m=0;m<j;m++)if(m in b&&c.call(d,b[m],m,b))return true;return false};k=Array.prototype.map?function(){var b=Array.prototype.slice.call(arguments,
1);return Array.prototype.map.apply(arguments[0],b)}:function(b,c,d){var j=b.length;if(typeof c!="function")throw new TypeError;for(var m=Array(j),v=0;v<j;v++)if(v in b)m[v]=c.call(d,b[v],v,b);return m};g=Array.prototype.every?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.every.apply(arguments[0],b)}:function(b,c,d){var j=b.length;if(typeof c!="function")throw new TypeError;for(var m=0;m<j;m++)if(m in b&&!c.call(d,b[m],m,b))return false;return true};q=Array.prototype.reduce?
function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.reduce.apply(arguments[0],b)}:function(b,c){var d=b.length>>>0;if(typeof c!="function")throw new TypeError;if(d==0&&arguments.length==2)throw new TypeError;var j=0;if(arguments.length>=3)var m=arguments[2];else{do{if(j in b){m=b[j++];break}if(++j>=d)throw new TypeError;}while(1)}for(;j<d;j++)if(j in b)m=c.call(null,m,b[j],j,b);return m};h=Array.prototype.reduceRight?function(){var b=Array.prototype.slice.call(arguments,
1);return Array.prototype.reduceRight.apply(arguments[0],b)}:function(b,c){var d=b.length>>>0;if(typeof c!="function")throw new TypeError;if(d==0&&arguments.length==2)throw new TypeError;d=d-1;if(arguments.length>=3)var j=arguments[2];else{do{if(d in b){j=b[d--];break}if(--d<0)throw new TypeError;}while(1)}for(;d>=0;d--)if(d in b)j=c.call(null,j,b[d],d,b);return j};l=function(b){var c=f.$typeof(b);return c?c!="array"&&c!="arguments"?[b]:b:[]};n=function(b,c){return p(b,c)>-1};a=function(b){for(var c=
[],d=0,j=b.length;d<j;d++)n(c,b[d])||c.push(b[d]);return c};e.indexOf=p;e.lastIndexOf=u;e.forEach=r;e.filter=s;e.some=t;e.map=k;e.every=g;e.reduce=q;e.reduceRight=h;e.toArray=l;e.remove=function(b,c){c=l(c);var d,j,m=false;for(d=0;d<c.length;d++)for(j=0;j<b.length;j++)if(b[j]===c[d]){b.splice(j,1);m=true}return m};e.replace=function(b,c,d){for(;0<b.length;ij++)if(b[0]===c){b[0]=d;return true}return false};e.bubbleSort=function(b,c){c=c||function(A,x){return A-x};for(var d=b.length,j,m,v=0;v<d-1;v++){m=
false;for(var y=d-1;y>v;y--)if(c(b[y],b[y-1])<0){m=true;j=b[y-1];b[y-1]=b[y];b[y]=j}if(!m)break}return b};e.binarySearch=function(b,c,d){for(var j=0,m=b.length,v=Math.floor(b.length/2);m!=v;){if(d(c,b[v])>0)j=v+1;else m=v;v=Math.floor((j+m)/2)}return v};e.contains=n;e.uniquelize=a;e.intersect=function(b,c){for(var d=[],j=0,m=b.length;j<m;j++)n(c,b[j])&&d.push(b[j]);return d};e.minus=function(b,c){for(var d=[],j=0,m=b.length;j<m;j++)n(c,b[j])||d.push(b[j]);return d};e.union=function(b,c){return a(b.concat(c))}});
Jx().$package(function(f){f.browserOptions={adjustBehaviors:true,htmlClass:true};f.host=window.location.host;var e=navigator.platform.toLowerCase(),p=navigator.userAgent.toLowerCase(),u=navigator.plugins,r,s,t,k,g;k=function(l,n){l=(""+l).replace(/_/g,".");n=n||1;l=String(l).split(".");l=l[0]+"."+(l[1]||"0");return l=Number(l).toFixed(n)};r={getPlatform:function(){return e},name:window.orientation!=undefined?"iPod":(e.match(/mac|win|linux/i)||["unknown"])[0],version:0,iPod:0,iPad:0,iPhone:0,android:0,
win:0,linux:0,mac:0,set:function(l,n){this.name=l;this.version=n;this[l]=n}};r[r.name]=true;(g=p.match(/windows ([\d.]+)/))?r.set("win",k(g[1])):(g=p.match(/windows nt ([\d.]+)/))?r.set("win",k(g[1])):(g=p.match(/linux ([\d.]+)/))?r.set("linux",k(g[1])):(g=p.match(/mac ([\d.]+)/))?r.set("mac",k(g[1])):(g=p.match(/ipod ([\d.]+)/))?r.set("iPod",k(g[1])):(g=p.match(/ipad[\D]*os ([\d_]+)/))?r.set("iPad",k(g[1])):(g=p.match(/iphone ([\d.]+)/))?r.set("iPhone",k(g[1])):(g=p.match(/android ([\d.]+)/))&&r.set("android",
k(g[1]));s={features:{xpath:!!document.evaluate,air:!!window.runtime,query:!!document.querySelector},getPlugins:function(){return u},plugins:{flash:function(){var l=0;if(u&&u.length){var n=u["Shockwave Flash"];if(n&&n.description)l=k(n.description.match(/\b(\d+)\.\d+\b/)[1],1)||l}else for(n=13;n--;)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);l=k(n);break}catch(a){}return l}()},getUserAgent:function(){return p},name:"unknown",version:0,ie:0,firefox:0,chrome:0,opera:0,safari:0,mobileSafari:0,
adobeAir:0,set:function(l,n){this.name=l;this.version=n;this[l]=n}};(g=p.match(/msie ([\d.]+)/))?s.set("ie",k(g[1])):(g=p.match(/firefox\/([\d.]+)/))?s.set("firefox",k(g[1])):(g=p.match(/chrome\/([\d.]+)/))?s.set("chrome",k(g[1])):(g=p.match(/opera.([\d.]+)/))?s.set("opera",k(g[1])):(g=p.match(/adobeair\/([\d.]+)/))?s.set("adobeAir",k(g[1])):(g=p.match(/version\/([\d.]+).*safari/))&&s.set("safari",k(g[1]));(g=p.match(/version\/([\d.]+).*mobile.*safari/))&&s.set("mobileSafari",k(g[1]));r.iPad&&s.set("mobileSafari",
"0.0");if(s.ie)if(document.documentMode)document.documentMode!==Math.floor(s.ie)&&s.set("ie",k(document.documentMode));else document.documentMode=Math.floor(s.ie);t={name:"unknown",version:0,trident:0,gecko:0,webkit:0,presto:0,set:function(l,n){this.name=l;this.version=n;this[l]=n}};(g=p.match(/trident\/([\d.]+)/))?t.set("trident",k(g[1])):(g=p.match(/gecko\/([\d.]+)/))?t.set("gecko",k(g[1])):(g=p.match(/applewebkit\/([\d.]+)/))?t.set("webkit",k(g[1])):(g=p.match(/presto\/([\d.]+)/))&&t.set("presto",
k(g[1]));if(s.ie)if(s.ie==6)t.set("trident",k("4"));else if(s.ie==7||s.ie==8)t.set("trident",k("5"));if(f.browserOptions.adjustBehaviors)if(s.ie&&s.ie<7)try{document.execCommand("BackgroundImageCache",false,true)}catch(q){}var h=function(l){return String(l).replace(/\./gi,"_")};g=function(){var l=document.documentElement,n=[l.className];n.push("javascriptEnabled");n.push(r.name);n.push(r.name+h(r.version));n.push(s.name);n.push(s.name+h(s.version));document.documentMode&&n.push("documentMode_"+document.documentMode);
n.push(t.name);n.push(t.name+h(t.version));if(s.plugins.flash){n.push("flash");n.push("flash"+h(s.plugins.flash))}typeof window.webTop!="undefined"&&window.webTop&&n.push("webTop");l.className=n.join(" ")};f.browserOptions.htmlClass&&g();f.platform=r;f.browser=s;f.browser.engine=t});
Jx().$package(function(f){var e,p,u,r,s,t,k,g,q,h,l,n,a,b,c,d,j=null,m,v,y,A;f.dom=f.dom||{};e=f.dom;p=f.browser;u=e.win?e.win.contentWindow:e.win||window;e.win=u;e.doc=u.document;var x=document&&Object.prototype.hasOwnProperty.call(document.documentElement,"classList");v=function(){if(y)return y;return y=document.compatMode==="CSS1Compat"?document.documentElement:document.body};d=function(i){if(i){i=i||window.document;j=i.nodeType===9?i:i.ownerDocument||e.doc}else if(!j){i=i||window.document;j=i.nodeType===
9?i:i.ownerDocument||e.doc}return j};m=function(i){var o=d(i);return i.document?i:o.defaultView||o.parentWindow||e.win};u=function(i,o){o=o||d();return o.getElementsByTagName(i)};l=function(i){return(i?i.scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))||0};n=function(i){return(i?i.scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop))||0};r=function(){return x?function(i,o){if(!i||!o)return false;return i.classList.contains(o)}:function(i,
o){if(!i||!o)return false;return-1<(" "+i.className+" ").indexOf(" "+o+" ")}}();s=function(){return x?function(i,o){!i||!o||r(i,o)||i.classList.add(o)}:function(i,o){!i||!o||r(i,o)||(i.className+=" "+o)}}();t=function(){return x?function(i,o){!i||!o||!r(i,o)||i.classList.remove(o)}:function(i,o){if(!(!i||!o||!r(i,o)))i.className=i.className.replace(RegExp("(?:^|\\s)"+o+"(?:\\s|$)")," ")}}();k=function(){return x?function(i,o){i&&o&&i.classList.toggle(o)}:function(i,o){if(i&&o)r(i,o)?t(i,o):s(i,o)}}();
g=function(i,o,w){if(i){var z=f.browser.name;if(o==="float"||o==="cssFloat")o=z==="ie"?"styleFloat":"cssFloat";if(o==="opacity"&&z==="ie"&&f.browser.ie<9){i.style.filter='alpha(opacity="'+w*100+'")';if(!i.style.zoom)i.style.zoom=1}else i.style[o]=w}};q=function(i,o){if(i){var w=m(i),z=f.browser.name;if(o==="float"||o==="cssFloat")o=z==="ie"?"styleFloat":"cssFloat";if(o==="opacity"&&z==="ie"&&f.browser.ie<9){w=1;if((z=i.style.filter.match(/opacity=(\d+)/))&&z[1])w=z[1]/100;return w}if(i.style[o])return i.style[o];
else if(i.currentStyle)return i.currentStyle[o];else if(w.getComputedStyle)return w.getComputedStyle(i,null)[o];else if(document.defaultView&&document.defaultView.getComputedStyle){o=o.replace(/([/A-Z])/g,"-$1");o=o.toLowerCase();return(w=document.defaultView.getComputedStyle(i,""))&&w.getPropertyValue(o)}}};h=function(i,o){i.style.cssText=o};a=function(i){var o=0,w=0;if(i)if(document.documentElement.getBoundingClientRect&&i.getBoundingClientRect){w={left:0,top:0,right:0,bottom:0};try{w=i.getBoundingClientRect()}catch(z){return[0,
0]}i=i.ownerDocument;var C=f.browser.ie?2:0;o=w.top-C+n(i);w=w.left-C+l(i)}else for(;i.offsetParent;){o+=i.offsetTop;w+=i.offsetLeft;i=i.offsetParent}return[w,o]};b=function(i){i=a(i);i[0]+=l();i[1]+=n();return i};c=function(i,o,w){var z=parseInt(q(i,"marginLeft"))||0,C=parseInt(q(i,"marginTop"))||0;g(i,"left",parseInt(o)-z+"px");g(i,"top",parseInt(w)-C+"px")};for(var E=function(i){return!i||i=="auto"?0:parseInt(i.substr(0,i.length-2))},B=u("script"),D=0;D<B.length;D++)if(B[D].getAttribute("hasJx")==
"true")f.src=B[D].src;if(!f.src)f.src=B[B.length-1].src;f.filename=f.src.replace(/(.*\/){0,}([^\\]+).*/ig,"$2");f.path=f.src.split(f.filename)[0];e.getDoc=d;e.id=function(i,o){return d(o).getElementById(i)};e.name=function(i,o){return d(o).getElementsByName(i)};e.tagName=u;e.getText=function(i){var o=i?i[TEXT_CONTENT]:"";if(o===UNDEFINED&&INNER_TEXT in i)o=i[INNER_TEXT];return o||""};e.getAttributeByParent=function(i,o,w){var z=false;o=o;var C;do{C=o.getAttribute(i);if(f.isUndefined(C)||f.isNull(C))if(o===
w)z=true;else o=o.parentNode;else z=true}while(!z);return C};e.node=function(i,o){var w,z=document.createElement(i),C={"class":function(){z.className=o["class"]},style:function(){h(z,o.style)}};for(w in o)C[w]?C[w]():z.setAttribute(w,o[w]);return z};e.setClass=function(i,o){i.className=o};e.getClass=function(i){return i.className};e.hasClass=r;e.addClass=s;e.removeClass=t;e.toggleClass=k;e.replaceClass=function(i,o,w){t(i,o);s(i,w)};e.createStyleNode=function(i,o){var w=e.node("style",{id:o||"",type:"text/css"});
if(w.styleSheet)w.styleSheet.cssText=i;else{var z=document.createTextNode(i);w.appendChild(z)}e.getDocHead().appendChild(w);return w};e.setStyle=g;e.getStyle=q;e.setCssText=h;e.getCssText=function(i){return i.style.cssText};e.addCssText=function(i,o){i.style.cssText+=";"+o};e.show=function(i,o){var w;w=(w=i.getAttribute("_oldDisplay"))?w:q(i,"display");if(o)g(i,"display",o);else w==="none"?g(i,"display","block"):g(i,"display",w)};e.isShow=function(i){return q(i,"display")==="none"?false:true};e.recover=
function(i){var o;o=(o=i.getAttribute("_oldDisplay"))?o:q(i,"display");o==="none"?g(i,"display",""):g(i,"display",o)};e.hide=function(i){var o=q(i,"display");i.getAttribute("_oldDisplay")||(o==="none"?i.setAttribute("_oldDisplay",""):i.setAttribute("_oldDisplay",o));g(i,"display","none")};e.getScrollLeft=l;e.getScrollTop=n;e.getScrollHeight=function(i){return(i?i.scrollHeight:Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))||0};e.getScrollWidth=function(i){return(i?i.scrollWidth:
Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))||0};e.getClientHeight=function(i){i=i||v();return i.clientHeight};e.getClientWidth=function(i){i=i||v();return i.clientWidth};e.getOffsetHeight=function(i){i=i||v();return i.offsetHeight};e.getOffsetWidth=function(i){i=i||v();return i.offsetWidth};e.getClientXY=a;e.setClientXY=function(i,o,w){o=parseInt(o)+l();w=parseInt(w)+n();c(i,o,w)};e.getXY=b;e.setXY=c;e.getRelativeXY=function(i,o){var w=b(i),z=b(o),C=[];C[0]=w[0]-z[0];
C[1]=w[1]-z[1];return C};e.getPosX=function(i){return E(e.getStyle(i,"left"))};e.getPosY=function(i){return E(e.getStyle(i,"top"))};e.getWidth=function(i){return E(e.getStyle(i,"width"))};e.getHeight=function(i){return E(e.getStyle(i,"height"))};e.getSelection=void 0;e.getSelectionText=function(i){i=i||window;var o=i.document;if(i.getSelection)return i.getSelection().toString();else if(o.getSelection)return o.getSelection();else if(o.selection)return o.selection.createRange().text};e.getTextFieldSelection=
function(i){return i.selectionStart!=undefined&&i.selectionEnd!=undefined?i.value.substring(i.selectionStart,i.selectionEnd):""};e.getDocumentElement=v;e.getDocHead=function(){if(!A){var i=d();A=i.getElementsByTagName("head")?i.getElementsByTagName("head")[0]:i.documentElement}return A};e.contains=function(i,o,w){if(!w&&i===o)return false;if(i.compareDocumentPosition){i=i.compareDocumentPosition(o);if(i==20||i==0)return true}else if(i.contains(o))return true;return false};e.getHref=function(i){return(p.ie&&
p.ie<=7?i.getAttribute("href",4):i.href)||null}});
Jx().$package(function(f){var e,p,u,r,s,t,k=[],g,q,h,l,n;f.event=f.event||{};e=f.event;n=function(a,b){if(!a)a=window.event;b=b||a.srcElement;var c=document,d=c.documentElement;c=c.body;d={_event:a,type:a.type,target:a.srcElement,currentTarget:b,relatedTarget:a.fromElement?a.fromElement:a.toElement,eventPhase:a.srcElement==b?2:3,clientX:a.clientX,clientY:a.clientY,screenX:a.screenX,screenY:a.screenY,layerX:a.offsetX,layerY:a.offsetY,pageX:a.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||
c&&c.clientLeft||0),pageY:a.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&c.clientTop||0),wheelDelta:a.wheelDelta,altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,charCode:a.keyCode,keyCode:a.keyCode,stopPropagation:function(){this._event.cancelBubble=true},preventDefault:function(){this._event.returnValue=false}};c=a.type.toLowerCase();if(c=="mouseover")d.relatedTarget=a.fromElement;else if(c=="mouseout")d.relatedTarget=a.toElement;if(!f.isUndefined(a.button)){c=a.button;var j=
{0:-1,1:0,2:2,3:-1,4:1};d.button=f.isUndefined(j[c])?c:j[c]}return d};if(f.browser.ie){p=function(a,b,c,d){t["on"+b]?t["on"+b](a,b,c,d):u(a,b,c)};u=function(a,b,c){if(e._find(arguments)==-1){var d=function(v){v=n(v,a);if(Function.prototype.call)c.call(a,v);else{a._currentHandler=c;a._currentHandler(v);a._currentHandler=null}};a.attachEvent("on"+b,d);d={element:a,eventType:b,handler:c,wrappedEvent:d};var j=(a.document||a).parentWindow||window,m=e._uid();if(!j._allHandlers)j._allHandlers={};j._allHandlers[m]=
d;if(!a._handlers)a._handlers=[];a._handlers.push(m);if(!j._onunloadEventRegistered){j._onunloadEventRegistered=true;j.attachEvent("onunload",e._removeAllEvents)}}};r=function(a,b,c){if(t["off"+b])t["off"+b](a,b,c);else arguments.length==3?s(a,b,c):s(a,b)};s=function(a){var b=e._find(arguments);if(b!=-1){for(var c=(a.document||a).parentWindow||window,d=0;d<b.length;d++){var j=b[d],m=a._handlers[j],v=c._allHandlers[m];a.detachEvent("on"+v.eventType,v.wrappedEvent);a._handlers[j]=null;a._handlers.splice(j,
1);delete c._allHandlers[m]}if(a._handlers&&a._handlers.length==0)a._handlers=null}};e._find=function(a){var b=a[0],c=a[1],d=a[2],j=b._handlers;if(!j)return-1;b=(b.document||b).parentWindow||window;var m=[];if(a.length===3)for(a=j.length-1;a>=0;a--){var v=j[a];v=b._allHandlers[v];if(v.eventType==c&&v.handler==d){m.push(a);return m}}else if(a.length===2){for(a=j.length-1;a>=0;a--){v=j[a];v=b._allHandlers[v];v.eventType==c&&m.push(a)}if(m.length>0)return m}else if(a.length===1){for(a=j.length-1;a>=
0;a--)m.push(a);if(m.length>0)return m}return-1};e._removeAllEvents=function(){for(var a in this._allHandlers){var b=this._allHandlers[a];b.element.detachEvent("on"+b.eventType,b.wrappedEvent);b.element._handlers=null;delete this._allHandlers[a]}};e._counter=0;e._uid=function(){return"h"+e._counter++}}else if(document.addEventListener){p=function(a,b,c,d){t["on"+b]?t["on"+b](a,b,c,d):u(a,b,c)};u=function(a,b,c){var d=false;a||f.out("targetModel undefined:"+b+c);if(!a._eventTypes)a._eventTypes={};
a._eventTypes[b]||(a._eventTypes[b]=[]);a.addEventListener(b,c,false);a=a._eventTypes[b];for(b=0;b<a.length;b++)if(a[b]==c){d=true;break}d||a.push(c)};r=function(a,b,c){if(t["off"+b])t["off"+b](a,b,c);else arguments.length==3?s(a,b,c):s(a,b)};s=function(a,b,c){if(b)if(arguments.length==3){if(c){a.removeEventListener(b,c,false);if(a._eventTypes&&a._eventTypes[b])for(var d=a._eventTypes[b],j=0;j<d.length;j++)if(d[j]===c){d[j]=null;d.splice(j,1);break}}}else{if(a._eventTypes&&a._eventTypes[b]){d=a._eventTypes[b];
for(j=0;j<d.length;j++)a.removeEventListener(b,d[j],false);a._eventTypes[b]=[]}}else if(a._eventTypes){var m=a._eventTypes,v;for(v in m){d=a._eventTypes[v];for(j=0;j<d.length;j++)a.removeEventListener(v,d[j],false)}}}}t={ondrag:function(a,b,c){var d,j,m=false,v=function(x){if(!(!f.browser.mobileSafari&&x.button!==0)){if(f.browser.mobileSafari){x.stopPropagation();x=x.touches[0];d=x.pageX;j=x.pageY}else{x.stopPropagation();x.preventDefault();d=x.clientX;j=x.clientY}m=false;if(f.browser.mobileSafari){e.addEventListener(document,
"touchmove",y);e.addEventListener(a,"touchend",A)}else e.addEventListener(document,"mousemove",y)}},y=function(x){if(!(!f.browser.mobileSafari&&x.button!==0)){var E,B;x.stopPropagation();if(f.browser.mobileSafari){B=x.changedTouches[0];E=B.pageX;B=B.pageY}else{E=x.clientX;B=x.clientY}if(Math.abs(d-E)+Math.abs(j-B)>2){if(f.browser.mobileSafari){e.removeEventListener(document,"touchmove",y);e.removeEventListener(a,"touchend",A)}else e.removeEventListener(document,"mousemove",y);if(!m){c.call(a,x);m=
true}}}},A=function(x){if(!(!f.browser.mobileSafari&&x.button!==0))if(f.browser.mobileSafari){e.removeEventListener(document,"touchmove",y);if(m){x.stopPropagation();x.preventDefault()}}else e.removeEventListener(document,"mousemove",y)};if(f.browser.mobileSafari)e.addEventListener(a,"touchstart",v);else{e.addEventListener(a,"mousedown",v);e.addEventListener(a,"mouseup",A)}k.push({element:a,eventType:b,handler:c,actions:[v,A]})},offdrag:function(a,b,c){for(var d in k)if(k[d].handler==c&&k[d].element==
a&&k[d].eventType==b){if(f.browser.mobileSafari){e.removeEventListener(a,"touchstart",k[d].actions[0]);e.removeEventListener(a,"touchend",k[d].actions[1])}else{e.removeEventListener(a,"mousedown",k[d].actions[0]);e.removeEventListener(a,"mouseup",k[d].actions[1])}k.splice(d,1);break}},oncustomclick:function(a,b,c,d){var j,m,v=false,y=false,A;d=d?d:{};var x=d.longtouchable,E=-1;d=function(o){v=false;if(!(!f.browser.mobileSafari&&o.button!==0)){var w;if(f.browser.mobileSafari){w=o.changedTouches[0];
j=w.pageX;m=w.pageY}else{j=o.clientX;m=o.clientY}y=false;if(x)A=setTimeout(function(){if(!(v||y)){if(f.browser.mobileSafari){e.removeEventListener(a,"touchmove",D);e.removeOriginalEventListener(a,"touchend",i)}else{e.removeEventListener(a,"mousemove",D);e.removeOriginalEventListener(a,"click",i)}c.call(a,o,2E3)}},1E3);if(f.browser.mobileSafari){e.addEventListener(a,"touchmove",D);e.addOriginalEventListener(a,"touchend",i)}else{e.addEventListener(a,"mousemove",D);e.addOriginalEventListener(a,"click",
i)}}};var B=function(o){E=o.button;if(!(!f.browser.mobileSafari&&o.button!==0))if(f.browser.mobileSafari)touch=o.changedTouches[0]},D=function(o){if(f.browser.mobileSafari){touch=o.changedTouches[0];var w=touch.pageX;o=touch.pageY}else{w=o.clientX;o=o.clientY}if(v=Math.abs(j-w)+Math.abs(m-o)>1){clearTimeout(A);A=null;if(f.browser.mobileSafari){e.removeEventListener(a,"touchmove",D);e.removeOriginalEventListener(a,"touchend",i)}else{e.removeEventListener(a,"mousemove",D);e.removeOriginalEventListener(a,
"click",i)}}},i=function(o){clearTimeout(A);A=null;y=true;if(!(!f.browser.mobileSafari&&E!==0)){var w;if(f.browser.mobileSafari){w=o.changedTouches[0];var z=w.pageX;w=w.pageY}else{z=o.clientX;w=o.clientY}if(Math.abs(j-z)+Math.abs(m-w)<1){v=false;c.call(a,o,0)}}};if(f.browser.mobileSafari)e.addEventListener(a,"touchstart",d);else{e.addEventListener(a,"mousedown",d);e.addEventListener(a,"mouseup",B)}k.push({element:a,eventType:b,handler:c,actions:[d,D,B,i]})},offcustomclick:function(a,b,c){for(var d in k)if(k[d].handler==
c&&k[d].element==a&&k[d].eventType==b){if(f.browser.mobileSafari){e.removeEventListener(a,"touchstart",k[d].actions[0]);e.removeEventListener(a,"touchmove",k[d].actions[1]);e.removeOriginalEventListener(a,"touchend",k[d].actions[3])}else{e.removeEventListener(a,"mousedown",k[d].actions[0]);e.removeEventListener(a,"mousemove",k[d].actions[1]);e.removeEventListener(a,"mouseup",k[d].actions[2]);e.removeOriginalEventListener(a,"click",k[d].actions[3])}k.splice(d,1);break}},oncontextmenu:function(a,b,
c){if(f.browser.ie==9){var d=function(j){j=n(j,a);c.call(a,j)};a.attachEvent("oncontextmenu",d);k.push({element:a,eventType:b,handler:c,actions:[d]})}else e.addOriginalEventListener(a,b,c)},offcontextmenu:function(a,b,c){if(f.browser.ie==9)for(var d in k){if(k[d].handler==c&&k[d].element==a&&k[d].eventType==b){a.detachEvent("oncontextmenu",k[d].actions[0]);k.splice(d,1);break}}else e.removeOriginalEventListener(a,b,c)},onmousewheel:function(a,b,c){if(f.browser.firefox){var d=function(j){j.wheelDelta=
-40*j.detail;c.call(a,j)};e.addOriginalEventListener(a,"DOMMouseScroll",d);k.push({element:a,eventType:b,handler:c,actions:[d]})}else e.addOriginalEventListener(a,"mousewheel",c)},offmousewheel:function(a,b,c){if(f.browser.firefox)for(var d in k){if(k[d].handler==c&&k[d].element==a&&k[d].eventType==b){e.removeOriginalEventListener(a,"DOMMouseScroll",k[d].actions[0]);k.splice(d,1);break}}else e.removeOriginalEventListener(a,"mousewheel",c)},onmouseenter:function(a,b,c){var d=function(j){var m=j.relatedTarget;
if(m)if(this.compareDocumentPosition){var v=this.compareDocumentPosition(m);m==this||v==20||v==0||c.call(this,j)}else m==this||this.contains(m)||c.call(this,j);else c.call(this,j)};e.addEventListener(a,"mouseover",d);k.push({element:a,eventType:b,handler:c,actions:[d]})},offmouseenter:function(a,b,c){for(var d in k)if(k[d].handler==c&&k[d].element==a&&k[d].eventType==b){e.removeEventListener(a,"mouseover",k[d].actions[0]);k.splice(d,1);break}},onmouseleave:function(a,b,c){var d=function(j){var m=
j.relatedTarget;if(m)if(this.compareDocumentPosition){m=this.compareDocumentPosition(m);m==20||m==0||c.call(this,j)}else this.contains(m)||c.call(this,j);else c.call(this,j)};e.addEventListener(a,"mouseout",d);k.push({element:a,eventType:b,handler:c,actions:[d]})},offmouseleave:function(a,b,c){for(var d in k)if(k[d].handler==c&&k[d].element==a&&k[d].eventType==b){e.removeEventListener(a,"mouseout",k[d].actions[0]);k.splice(d,1);break}},oninput:function(a,b,c){if(f.browser.ie){var d=function(j){if(j.propertyName.toLowerCase()==
"value"){j=n(j,a);c.call(a,j)}};a.attachEvent("onpropertychange",d);k.push({element:a,eventType:b,handler:c,actions:[d]});f.browser.ie==9&&e.addOriginalEventListener(a,"change",c)}else e.addOriginalEventListener(a,"input",c)},offinput:function(a,b,c){if(f.browser.ie){for(var d in k)if(k[d].handler==c&&k[d].element==a&&k[d].eventType==b){a.detachEvent("onpropertychange",k[d].actions[0]);k.splice(d,1);break}f.browser.ie==9&&e.removeOriginalEventListener(a,"change",c)}else e.removeOriginalEventListener(a,
"input",c)}};g=function(a){if(g.done)return a();if(g.timer)g.ready.push(a);else{g.ready=[a];e.on(window,"load",q);g.timer=window.setInterval(q,300)}};q=function(){if(g.done)return true;if(document&&document.getElementsByTagName&&document.getElementById&&document.body){g.done=true;window.clearInterval(g.timer);g.timer=null;for(var a=0;a<g.ready.length;a++)g.ready[a]();g.ready=null;return true}};h=function(){this.subscribers=[]};h.prototype.subscribe=function(a){f.array.some(this.subscribers,function(b){return b===
a})||this.subscribers.push(a);return a};h.prototype.deliver=function(a){f.array.forEach(this.subscribers,function(b){b(a)})};h.prototype.unsubscribe=function(a){this.subscribers=f.array.filter(this.subscribers,function(b){return b!==a});return a};l=function(a,b,c){var d,j;if(c){b="on"+b;if(!a._$events)a._$events={};if(a._$events[b]){if(a._$events[b].length==0)a._$events[b]=[]}else a._$events[b]=[];a=a._$events[b];b=a.length;d=-1;for(j=0;j<b;j++)if(a[j]==c){d=j;break}d===-1&&a.push(c)}else f.out(">>> \u6dfb\u52a0\u7684\u89c2\u5bdf\u8005\u65b9\u6cd5\u4e0d\u5b58\u5728\uff1a"+
a+b+c)};e.addEventListener=p;e.removeEventListener=r;e.addOriginalEventListener=u;e.removeOriginalEventListener=s;e.on=e.addEventListener;e.off=e.removeEventListener;e.onDomReady=g;e.Publish=h;e.addObserver=l;e.addObservers=function(a){var b=a.targetModel;a=a.eventMapping;for(var c in a)l(b,c,a[c])};e.notifyObservers=function(a,b,c){var d;b="on"+b;var j=true;if(a._$events&&a._$events[b]){b=a._$events[b];if(b.length>0)for(d=0;d<b.length;d++)if(b[d].apply(a,[c])===false)j=false}return j};e.removeObserver=
function(a,b,c){var d,j=false,m,v=a._$events;if(c){if(v){b="on"+b;if(a=v[b]){m=a.length;for(d=0;d<m;d++)if(a[d]==c){a[d]=null;a.splice(d,1);j=true;break}}}}else if(b){if(v){b="on"+b;if(a=v[b]){m=a.length;for(d=0;d<m;d++)a[d]=null;delete v[b];j=true}}}else if(a)if(v){for(d in v)delete v[d];delete a._$events;j=true}return j}});
Jx().$package(function(f){var e=f.dom.id,p=f.dom,u=f.event,r;if(typeof window.XMLHttpRequest==="undefined")window.XMLHttpRequest=function(){return new window.ActiveXObject(navigator.userAgent.indexOf("MSIE 5")>=0?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP")};f.http=f.http||{};r=function(k,g,q){var h,l,n,a,b=document.getElementsByTagName("head")?document.getElementsByTagName("head")[0]:document.documentElement,c,d=false,j=false;q=q||{};var m=q.isDefer||false;l=q.query||null;arguments=q.arguments||null;var v=
q.onSuccess||function(){},y=q.onError||function(){},A=q.onComplete||function(){},x,E=q.onTimeout||function(){},B=q.timeout,D=q.charset?q.charset:"utf-8",i=q.win||window,o;g=g||"";if(l!==null)g=g+"?"+l;a=r.Id++;x=function(w){(w=e("jet_load_"+w))&&b.removeChild(w)};l=function(w,z,C){return p.node("link",{id:"jet_load_"+a,type:"text/css",charset:C||"utf-8",rel:"stylesheet",href:w},z)};n=function(w,z,C,F){w=p.node("script",{id:"jet_load_"+a,type:"text/javascript",charset:C||"utf-8",src:w},z);F&&w.setAttribute("defer",
"defer");return w};if(k==="script")h=q.node||n(g,i,D,m);else if(k==="css")h=q.node||l(g,i,D);if(f.browser.engine.trident&&parseInt(f.browser.ie)<9)h.onreadystatechange=function(){var w=this.readyState;if(w==="loaded"||w==="complete"){h.onreadystatechange=null;if(!d){j=true;window.clearTimeout(c);c=null;o={};o.id=a;o.uri=g;o.arguments=arguments;v(o);A(o)}}};else if(f.browser.engine.webkit)u.on(h,"load",function(){var w;if(!d){j=true;window.clearTimeout(c);c=null;w={};w.id=a;w.uri=g;w.arguments=arguments;
v(w);A(w);k==="script"&&x(a)}});else{h.onload=function(){var w;if(!d){j=true;window.clearTimeout(c);c=null;w={};w.id=a;w.uri=g;w.arguments=q.arguments;v(w);A(w);k==="script"&&x(a)}};h.onerror=function(w){var z;if(!d){j=true;window.clearTimeout(c);c=null;z={};z.id=a;z.uri=g;z.arguments=arguments;z.error=w;y(z);A(z);x(a)}}}if(q.node)if(k==="script")h.src=g;else{if(k==="css")h.href=g}else b.appendChild(h);if(k==="script")if(B)c=window.setTimeout(function(){var w;if(!j){d=true;w={};w.uri=g;w.arguments=
arguments;E(w);A(w);x(a)}},B);m=function(w){this._node=w;this._head=b};m.prototype={abort:function(){this._node.src="";this._head.removeChild(this._node);delete this._node}};return new m(h)};r.Id=0;var s,t={_iframes:[],_tick:0,_select:function(){this._tick++;return this._iframes[(this._tick-1)%this._len]},init:function(k){if(this._isInit!=true){this._len=k;for(var g=document.body,q=0;q<k;q++){s=p.node("div",{"class":"RPCService_hDiv"});p.hide(s);s.innerHTML='<iframe id="RPCService_hIframe_'+q+'" name="RPCService_hIframe_'+
q+'" src="'+alloy.CONST.MAIN_URL+'domain.html"></iframe>';g.appendChild(s);this._iframes[q]=[s,null,"RPCService_hIframe_"+q]}this._isInit=true}},take:function(k){var g=this._select();g[1]&&g[0].removeChild(g[1]);k.setAttribute("target",g[2]);g[1]=k;g[0].appendChild(k)}};f.http.ajax=function(k,g){var q,h,l,n=false,a=false;g={method:g.method||"GET",data:g.data||null,arguments:g.arguments||null,onSuccess:g.onSuccess||function(){},onError:g.onError||function(){},onComplete:g.onComplete||function(){},
onTimeout:g.onTimeout||function(){},isAsync:g.isAsync||true,timeout:g.timeout?g.timeout:3E4,contentType:g.contentType?g.contentType:"utf-8",type:g.type||"xml"};k=k||"";l=g.timeout;q=new window.XMLHttpRequest;q.open(g.method,k,g.isAsync);q.setRequestHeader("Content-Type",g.contentType);h=function(b){try{return!b.status&&location.protocol=="file:"||b.status>=200&&b.status<300||b.status==304||navigator.userAgent.indexOf("Safari")>-1&&typeof b.status=="undefined"}catch(c){}return false};q.onreadystatechange=
function(){if(q.readyState==4){if(!n){var b={};b.responseText=q.responseText;b.responseXML=q.responseXML;b.data=g.data;b.status=q.status;b.uri=k;b.arguments=g.arguments;if(h(q)){g.type==="script"&&eval.call(window,data);g.onSuccess(b)}else g.onError(b);g.onComplete(b)}a=true;q=null}};q.send(g.data);window.setTimeout(function(){var b;if(!a){n=true;b={};b.uri=k;b.arguments=g.arguments;g.onTimeout(b);g.onComplete(b)}},l);return q};f.http.comet=function(k,g){k=k||"";g={method:g.method||"GET",data:g.data||
null,arguments:g.arguments||null,callback:g.callback||function(){},onLoad:g.onLoad||function(){},contentType:g.contentType?g.contentType:"utf-8"};var q;if(f.browser.ie){q=new ActiveXObject("htmlfile");q.open();q.close();var h=q.createElement("div");q.appendChild(h);q.parentWindow._parent=self;h.innerHTML='<iframe id="_cometIframe" src="'+k+"?callback=window.parent._parent."+g.callback+'"></iframe>';q=q.getElementById("_cometIframe")}else{q=p.node("iframe");q.setAttribute("id","_cometIframe");q.setAttribute("src",
k+"?callback=window.parent._parent."+g.callback);q.style.position="absolute";q.style.visibility="hidden";q.style.left=q.style.top="-999px";q.style.width=q.style.height="1px";document.body.appendChild(q);self._parent=self}u.on(q,"load",g.onLoad);return q};f.http.load=r;f.http.loadCss=function(k,g){return r("css",k,g)};f.http.loadScript=function(k,g){return r("script",k,g)};f.http.formSend=function(k,g){t.init(2);var q={method:g.method||"GET",enctype:g.enctype||"",data:g.data||{},onSuccess:g.onSuccess||
function(){},onError:g.onError||function(){},onComplete:g.onComplete||function(){},onTimeout:g.onTimeout||function(){},timeout:g.timeout?g.timeout:1E4},h=p.node("form",{"class":"RPCService_form",method:q.method,action:k+"?t="+(new Date).getTime(),enctype:q.enctype});if(Object.prototype.toString.call(q.data).indexOf("String")>-1){var l=p.node("input");l.type="text";l.name=q.data;h.appendChild(l)}else for(var n in q.data){l=p.node("input");l.type="text";l.name=n;l.setAttribute("value",q.data[n]);h.appendChild(l)}t.take(h);
h.submit()}});
Jx().$package(function(f){f.string=f.string||{};var e=f.string,p,u,r,s,t,k,g,q,h,l,n={};p=function(a,b){var c=!/\W/.test(a)?n[a]=n[a]||p(document.getElementById(a).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return b?c(b):
c};u=function(a){return u.RE.test(a)};u.RE=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i;r=function(a){var b=null;if(null!==(b=r.RE.exec(a))){a={};for(var c=0,d=r.SPEC.length;c<d;c++)a[r.SPEC[c]]=b[c+1];b=a}return b};r.SPEC=["scheme","user","pass","host","port","path","query","fragment"];r.RE=/^([^:]+):\/\/(?:([^:@]+):?([^@]*)@)?(?:([^/?#:]+):?(\d*))([^?#]*)(?:\?([^#]+))?(?:#(.+))?$/;s=function(a){return String(a).replace(/^\s+|\s+$/g,"")};t=function(a,b){return encodeURIComponent(String(a))+"="+encodeURIComponent(String(b))};
k=function(a,b){b=b||2;return a.replace(/[^\x00-\xff]/g,{2:"aa",3:"aaa"}[b]).length};g=function(a,b){return a.substring(0,a.length-b)};q=function(a){return a.replace(/[&'"<>\/\\\-\x00-\x09\x0b-\x0c\x1f\x80-\xff]/g,function(b){return"&#"+b.charCodeAt(0)+";"}).replace(/ /g,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n/g,"<br />").replace(/\r/g,"<br />")};h=function(a){return escape(a).replace(/\+/g,"%2B")};l=function(a,b){var c=document.createElement("div");c.style.visibility="hidden";c.style.width=
"auto";if(b)c.style.fontSize=b+"px";c.style.position="absolute";c.innerHTML=f.string.encodeHtmlSimple(a);document.body.appendChild(c);var d=c.offsetWidth;document.body.removeChild(c);return d};e.cutByWidth=function(a,b,c){for(var d=a.length;d>=0;--d){a=a.substring(0,d);if(l(a,b)<c)return a}return""};e.toString=function(a){return a+""};e.template=p;e.isURL=u;e.parseURL=r;e.buildURL=function(a){for(var b="",c={},d={},j=0,m=r.SPEC.length;j<m;j++){var v=r.SPEC[j];if(a[v]){switch(v){case "scheme":d[v]=
"://";break;case "pass":c[v]=":";case "user":c.host="@";break;case "port":c[v]=":";break;case "query":c[v]="?";break;case "fragment":c[v]="#"}if(v in c)b+=c[v];if(v in a)b+=a[v];if(v in d)b+=d[v]}}return b};e.mapQuery=function(a){var b,c;a=a||window.location.href;var d=a.indexOf("?"),j=a.substring(d+1).split("&"),m={};if(d===-1)return m;for(a=0;a<j.length;a++)try{d=j[a].indexOf("=");b=j[a].substring(0,d);c=j[a].substring(d+1);if(!(m[b]=unescape(c)))throw Error("uri has wrong query string when run mapQuery.");
}catch(v){}return m};e.test=function(a,b,c){return(typeof b=="string"?RegExp(b,c):b).test(a)};e.contains=function(a,b,c){return c?(c+a+c).indexOf(c+b+c)>-1:a.indexOf(b)>-1};e.trim=s;e.clean=function(a){return s(a.replace(/\s+/g," "))};e.camelCase=function(a){return a.replace(/-\D/g,function(b){return b.charAt(1).toUpperCase()})};e.hyphenate=function(a){return a.replace(/[A-Z]/g,function(b){return"-"+b.charAt(0).toLowerCase()})};e.capitalize=function(a){return a.replace(/\b[a-z]/g,function(b){return b.toUpperCase()})};
e.escapeRegExp=function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")};e.toInt=function(a,b){return parseInt(a,b||10)};e.toFloat=function(a){return parseFloat(a)};e.toSingleLine=function(a){return String(a).replace(/\r/gi,"").replace(/\n/gi,"")};e.toHtml=function(a){return String(a).replace(/&/gi,"&amp;").replace(/\\/gi,"&#92;").replace(/\'/gi,"&#39;").replace(/\"/gi,"&quot;").replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/ /gi,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n\r/g,"<br />").replace(/\n/g,
"<br />").replace(/\r/g,"<br />")};e.toTitle=function(a){return String(a).replace(/\\/gi,"\\").replace(/\'/gi,"'").replace(/\"/gi,"'")};e.toQueryPair=t;e.toQueryString=function(a){var b=[],c;for(c in a)b.push(t(c,a[c]));return b.join("&")};e.hexToRgb=function(a,b){var c=a.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return c?c.slice(1).hexToRgb(b):null};e.rgbToHex=function(a,b){var c=a.match(/\d{1,3}/g);return c?c.rgbToHex(b):null};e.stripScripts=function(a,b){var c="",d=a.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,
function(j,m){c+=m+"\n";return""});if(b===true)$exec(c);else $type(b)=="function"&&b(c,d);return d};e.substitute=function(a,b,c){return a.replace(c||/\\?\{([^{}]+)\}/g,function(d,j){if(d.charAt(0)=="\\")return d.slice(1);return b[j]!=undefined?b[j]:""})};e.replaceAll=function(a,b,c,d){return RegExp.prototype.isPrototypeOf(b)?a.replace(b,c):a.replace(RegExp(b,d?"gi":"g"),c)};e.byteLength=k;e.cutRight=g;e.isNumber=function(a){return a.search(/^\d+$/)!==-1?true:false};e.isEmail=function(a){return a.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)!==
-1?true:false};e.cutByBytes=function(a,b){for(var c=a;k(c)>b;)c=g(c,1);return c};e.encodeHtmlSimple=function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/>/g,"&gt;");a=a.replace(/</g,"&lt;");a=a.replace(/"/g,"&quot;");return a=a.replace(/'/g,"&#39;")};e.decodeHtmlSimple=function(a){a=a.replace(/&amp;/g,"&");a=a.replace(/&gt;/g,">");a=a.replace(/&lt;/g,"<");a=a.replace(/&quot;/g,'"');return a=a.replace(/&#39;/g,"'")};e.decodeHtmlSimple2=function(a){a=a.replace(/&amp;/g,"&");a=a.replace(/&gt;/g,">");a=
a.replace(/&lt;/g,"<");a=a.replace(/\\\\"/g,'"');return a=a.replace(/\\\\'/g,"'")};e.encodeHtmlAttributeSimple=function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/>/g,"&gt;");a=a.replace(/</g,"&lt;");a=a.replace(/"/g,"&quot;");a=a.replace(/'/g,"&#39;");a=a.replace(/=/g,"&#61;");return a=a.replace(/`/g,"&#96;")};e.encodeHtmlAttribute=function(a){return a.replace(/[&'"<>\/\\\-\x00-\x1f\x80-\xff]/g,function(b){return"&#"+b.charCodeAt(0)+";"})};e.encodeHtml=q;e.encodeScript=function(a){a+="";return a.replace(/[\\"']/g,
function(b){return"\\"+b}).replace(/%/g,"\\x25").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\x01/g,"\\x01")};e.encodeHrefScript=function(a){return q(h(escScript(a)))};e.encodeRegExp=function(a){return a.replace(/[\\\^\$\*\+\?\{\}\.\(\)\[\]]/g,function(b){return"\\"+b})};e.encodeUrl=h;e.encodeUriComponent=function(a){a=encodeURIComponent(a);a=a.replace(/~/g,"%7E");a=a.replace(/!/g,"%21");a=a.replace(/\*/g,"%2A");a=a.replace(/\(/g,"%28");a=a.replace(/\)/g,"%29");a=a.replace(/'/g,"%27");a=a.replace(/\?/g,
"%3F");return a=a.replace(/;/g,"%3B")};e.vaildTencentUrl=function(a){return/^(https?:\/\/)?[\w\-.]+\.(qq|paipai|soso|taotao)\.com($|\/|\\)/i.test(a)||/^[\w][\w\/\.\-_%]+$/i.test(a)||/^[\/\\][^\/\\]/i.test(a)?true:false};e.vaildUrl=function(a){a=encodeURI(a).replace(/(^\s*)|(\s*$)/g,"");var b=/(^[a-zA-Z0-9]+[^.]):/,c=/^[\S.]+\.[\S.]+$/,d=/[\w.]+\/(\S*)/,j=/^[\s*]*javascript[\s*]*:/;if(!b.test(a)&&!c.test(a))a="";else{b.test(a)||(a="http://"+a);d.test(a)||(a+="/");if(j.test(a))a=""}return a};e.getCharWidth=
l});
Jx().$package(function(f){var e=f.dom.id,p=f.dom,u=f.event,r=f.string,s=f.http,t=this,k=f.string.mapQuery(window.location.search),g=window.open;window.open=function(h,l,n,a){if(l==undefined)l="_blank";if(n==undefined)n="";if(a==undefined)a=false;if(!g(h,l,n,a)){f.out("\u4f60\u7684\u673a\u5668\u4e0a\u6709\u8f6f\u4ef6\u62e6\u622a\u4e86\u5f39\u51fa\u7a97\u53e3");return false}return true};var q=new f.Class({_defaultType:3,_defaultTag:"information",_defaultTemplate:"<%=msg%>(<%=type%>#<%=tag%>@<%=time%>)",TYPE:["PROFILE",
"WARNING","ERROR","INFO","DEBUG"],init:function(h){this.msg=h.msg||"";this.tag=h.tag||this._defaultTag;this.type=f.isUndefined(h.type)?this._defaultType:h.type;this.time=(new Date).valueOf();this._template=h.template||this._defaultTemplate},format:function(h,l,n){n=n||this._template;return l?r.encodeHtml(r.template(n,h)):r.template(n,h)},parseOption:function(){return{msg:this.msg,time:this.time,type:this.TYPE[this.type],tag:this.tag}},toString:function(h,l){return this.format(this.parseOption(),h,
l||this._template)}});f.config={debugLevel:1};f.console={};f.Report={receive:f.emptyFunc,addRule:f.emptyFunc};f.extend(f.console,{_isCreated:false,_maxLength:1E3,_html:'<div id="ConsoleBoxHead" class="consoleBoxHead">\t\t\t\t\t\t<a href="###" id="ConsoleCloseButton" class="consoleCloseButton" title="\u5173\u95ed">X</a>\t\t\t\t\t\t<a href="###" id="ConsoleClearButton" class="consoleCloseButton" title="\u6e05\u9664\u6240\u6709\u65e5\u5fd7">cls</a>\t\t\t\t\t\t<a href="###" id="ConsoleRefreshButton" class="consoleCloseButton" title="\u8fd8\u539f\u6240\u6709\u65e5\u5fd7">r</a>\t\t\t\t\t\t<a href="###" id="ConsoleHelpButton" class="consoleCloseButton" title="\u63a7\u5236\u53f0\u5e2e\u52a9">H</a>\t\t\t\t\t\t<h5 class="title" title="\u63a7\u5236\u53f0">Console</h5>\t\t\t\t\t</div>\t\t\t\t\t<div id="consoleMain" class="consoleMain">\t\t\t\t\t\t<ul id="ConsoleOutput" class="consoleOutput"></ul>\t\t\t\t\t</div>\t\t\t\t\t<div class="consoleInputBox">\t\t\t\t\t\t&gt;<input id="ConsoleInput" class="consoleInput" title="\u8bf7\u8f93\u5165\u63a7\u5236\u53f0\u6307\u4ee4\u6216\u8005Javascript\u8bed\u53e5..." />\t\t\t\t\t</div>',
_opened:false,_log_record:[],_cmd_history:[],_cmd_last_index:0,isCustomConsole:true,_templateArr:["<%=msg%>","<%=msg%>(<%=type%>#<%=tag%>@<%=time%>)"],_templateType:0,_typeInfo:[["log_profile_type","\u2514"],["log_warning_type","!"],["log_error_type","x"],["log_info_type","i"],["log_debug_type","\u221a"]],TYPE:{PROFILE:0,WARNING:1,ERROR:2,INFO:3,DEBUG:4},show:function(){this._isCreated||this._create();this._opened=true;this._main.style.display="block";this.render();window.setTimeout(f.bind(this.focusCommandLine,
this),0)},hide:function(h){h&&h.preventDefault();this.clear();f.console._main.style.display="none";f.console._opened=false},enable:function(){f.option.console=true;this.show()},disable:function(){f.option.console=false;this.hide()},_init:function(){u.on(document,"keydown",f.bind(this.handleDocumentKeydown,this));f.option.console&&this.show();this.setToDebug()},_create:function(){s.loadCss(f.path+"assets/jet.css");this._main=document.createElement("div");this._main.id="JxConsole";this._main.style.display=
"none";this._main.className="consoleBox";this._main.innerHTML=this._html;window.document.body.appendChild(this._main);var h=p.getClientWidth(),l=p.getClientHeight();h=h-210-300;p.setStyle(this._main,"top",l-50-310+"px");p.setStyle(this._main,"left",h+"px");this._headEl=e("ConsoleBoxHead");this._inputEl=e("ConsoleInput");this._closeButtonEl=e("ConsoleCloseButton");this._clsButtonEl=e("ConsoleClearButton");this._refreshButtonEl=e("ConsoleRefreshButton");this._helpButtonEl=e("ConsoleHelpButton");this._outputEl=
e("ConsoleOutput");this._consoleMainEl=e("consoleMain");f.ui&&f.ui.Drag&&new f.ui.Drag(this._headEl,this._main);u.on(this._inputEl,"keyup",f.bind(this.onInputKeyup,this));u.on(this._clsButtonEl,"click",f.bind(this.clear,this));u.on(this._refreshButtonEl,"click",f.bind(this.refresh,this));u.on(this._helpButtonEl,"click",f.bind(this.help,this));u.on(this._closeButtonEl,"click",f.bind(this.hide,this));l={hScrollbar:true,vScrollbar:true,checkDOMChanges:false,desktopCompatibility:true};if(f.browser.mobileSafari)if(f.ui&&
f.ui.iScroll&&!this.consoleScroller){this.consoleScroller=new f.ui.iScroll(this._outputEl,l);f.debug("!!!!2","console")}this._isCreated=true},handleDocumentKeydown:function(h){switch(h.keyCode){case 192:if(h.ctrlKey&&h.shiftKey){this.toggleShow();h.preventDefault()}}},focusCommandLine:function(){this._inputEl.focus()},toggleShow:function(){this._opened?this.hide():this.show()},outConsoleShow:function(h,l){this.outConsole(h,l);!this._opened&&f.option.console&&this.show()},outConsole:function(h){if(this._opened){var l=
document.createElement("li");this._outputEl.appendChild(l);var n=f.console._typeInfo[h.type]||f.console._typeInfo[0],a=this._templateArr[this._templateType];l.className=n[0];l.innerHTML='<div class="log_icon" title="'+n[0]+'">'+n[1]+'</div><div class="log_text">'+h.toString(true,a)+"</div>";this.consoleScroller&&this.consoleScroller.refresh();this._consoleMainEl.scrollTop=this._consoleMainEl.scrollHeight}},print:function(h){var l=document.createElement("li");this._outputEl.appendChild(l);l.innerHTML=
h;this._consoleMainEl.scrollTop=this._consoleMainEl.scrollHeight},out:function(h,l,n){var a=this._templateArr[this._templateType];h=new q({msg:h,tag:l,type:n});this.logRecord(h);if(k&&k.consolefilter){if(h.tag==k.consolefilter)this.isCustomConsole?this.outConsole(h):t.console.log(h.toString(false,a))}else this.isCustomConsole?this.outConsole(h):t.console.log(h.toString(false,a))},profile:function(h,l){l=l||"system";this.out(h,l,0)},warn:function(h,l){this.out(h,l,1)},error:function(h,l){this.out(h,
l,2)},info:function(h,l){this.out(h,l,3)},debug:function(h,l){this.out(h,l,4)},setToDebug:function(){this.isCustomConsole=k.console&&k.console=="firebug"?false:true},setToNoDebug:function(){this.out=f.emptyFunc},logRecord:function(h){this._log_record.push(h);k.console||this._log_record.length>this._maxLength&&this._log_record.shift()},setTemplate:function(h){if(this._templateArr[h])this._templateType=h},filter:function(h){var l=RegExp(h,"i"),n=[];f.array.forEach(this._log_record,function(a){var b=
a.toString(true);l.test(b)&&n.push(a)});return n},filterByType:function(h,l){var n=[];h=h||[];f.array.forEach(h,function(a){var b=false;f.array.forEach(l,function(c){if(a.type==c)b=true});b&&n.push(a)});return n},filterByTag:function(h,l){var n=[];h=h||[];f.array.forEach(h,function(a){var b=false;f.array.forEach(l,function(c){if(a.tag==c)b=true});b&&n.push(a)});return n},filterByMsg:function(h,l){var n=[];h=h||[];f.array.forEach(h,function(a){var b=false;f.array.forEach(l,function(c){if(a.msg.indexOf(c)>
-1)b=true});b&&n.push(a)});return n},getReport:function(h,l,n){var a=[],b=this._log_record,c=this;if(!h||h=="")h=false;else f.isArray(h)||(h=[h]);if(!l||l=="")l=false;else f.isArray(l)||(l=[l]);if(!n||n=="")n=false;else f.isArray(n)||(n=[n]);if(h)b=this.filterByType(b,h);if(l)b=this.filterByTag(b,l);if(n)b=this.filterByMsg(b,n);f.array.forEach(b,function(d){a.push(d.toString(false,c._templateArr[1]))});return a.join(",")},render:function(h,l){h=h||this._log_record;l||(h=h.slice(-15));var n=this;n.clear();
f.array.forEach(h,function(a){n.outConsole(a)})},clear:function(h){h&&h.preventDefault();f.console._outputEl.innerHTML=""},refresh:function(h){h&&h.preventDefault();this.clear();this.render()},help:function(h){h&&h.preventDefault();this.print("&lt;&lt; Console Help &gt;&gt;<br/>\t\t\t\t\t\t\t\thelp|h  : \u63a7\u5236\u53f0\u5e2e\u52a9<br/>\t\t\t\t\t\t\t\tclear|cls : \u6e05\u7a7a\u63a7\u5236\u53f0\u8f93\u51fa<br/>\t\t\t\t\t\t\t\trefresh|r : \u5237\u65b0\u63a7\u5236\u53f0\u8f93\u51fa<br/>\t\t\t\t\t\t\t\tfilter|f : \u8fc7\u6ee4\u63a7\u5236\u53f0\u8f93\u51fa<br/>\t\t\t\t\t\t\t\tsetTemplate|s : \u8bbe\u7f6e\u8f93\u51fa\u6a21\u7248\u7c7b\u578b<br/>\t\t\t\t\t\t\t\thide  : \u9690\u85cf\u63a7\u5236\u53f0\uff0c\u6216\u8005\u4f7f\u7528 Ctrl+Shift+`[~] \u5feb\u6377\u952e")},
onInputKeyup:function(h){switch(h.keyCode){case 13:this._cmd_history.push(f.console._inputEl.value);this._cmd_last_index=this._cmd_history.length;this._execCommand(f.console._inputEl.value);break;case 38:if(this._cmd_history.length==0)break;h="";if(this._cmd_last_index>0){this._cmd_last_index--;h=this._cmd_history[this._cmd_last_index]}else this._cmd_last_index=-1;f.console._inputEl.value=h;break;case 40:if(this._cmd_history.length==0)break;h="";if(this._cmd_last_index<this._cmd_history.length-1){this._cmd_last_index++;
h=this._cmd_history[this._cmd_last_index]}else this._cmd_last_index=this._cmd_history.length;f.console._inputEl.value=h}},_execCommand:function(h){if(h=="help"||h=="h")this.help();else if(h=="clear"||h=="cls")f.console.clear();else if(h=="hide")f.console.hide();else if(h=="refresh"||h=="r")this.refresh();else if(h=="showall"||h=="sa"){this.clear();this.render(null,true)}else if(RegExp(/^(?:filter|f)(?:\(|\s+)(.+)(?:\)|\s*)$/i).test(h)){h=eval("this.filter('"+RegExp.$1+"')");if(h.length>0)this.render(h,
true);else{this.clear();this.out("NO RESULT!",1)}}else if(RegExp(/^(?:setTemplate|s)(?:\(|\s+)(\d+)(?:\)|\s*)$/i).test(h)){this.setTemplate(parseInt(RegExp.$1));this.refresh()}else this._execScript(h);f.console._inputEl.value=""},_execScript:function(h){var l='<span style="color:#ccff00">'+h+"</span><br/>";try{l+=(eval(h)||"").toString().replace(/</g,"&lt;").replace(/>/g,"&gt;");f.console.print(l,0)}catch(n){l+=n.description;f.console.print(l,1)}}});f.profile=f.console.profile;f.warn=f.console.warn;
f.error=f.console.error;f.info=f.console.info;f.debug=f.console.debug;u.onDomReady(function(){f.console._init();if(k.console=="true"){f.console=f.extend(f.console,{profile:f.emptyFunc,warn:f.emptyFunc,error:f.emptyFunc,info:f.emptyFunc,debug:f.emptyFunc});f.console.show()}});f.runtime=function(){function h(){return f.config.debugLevel>0}function l(a,b){var c;if(h())c=a+"\n=STACK=\n"+n();else if(b=="error")c=a;f.Debug.errorLogs.push(c)}function n(a,b){function c(m,v){if(m.stack)return m.stack;else if(m.message.indexOf("\nBacktrace:\n")>=
0){var y=0;return m.message.split("\nBacktrace:\n")[1].replace(/\s*\n\s*/g,function(){y++;return y%2==0?"\n":" @ "})}else{for(var A=v.callee==n?v.callee.caller:v.callee,x=A.arguments,E=[],B=0,D=x.length;B<D;B++)E.push(typeof x[B]=="undefined"?"<u>":x[B]===null?"<n>":x[B]);x=/function\s+([^\s\(]+)\(/;return((x.test(A.toString())?x.exec(A.toString())[1]:"<ANON>")+"("+E.join()+");").replace(/\n/g,"")}}var d;if(a instanceof Error&&typeof arguments=="object"&&arguments.callee)d=c(a,b);else try{({}).sds()}catch(j){d=
c(j,arguments)}return d.replace(/\n/g," <= ")}return{stack:n,warn:function(){l(write.apply(null,arguments),"warn")},error:function(){l(write.apply(null,arguments),"error")},isDebugMode:h}}()});
Jx().$package(function(f){var e=window.location.host;f.cookie={set:function(p,u,r,s,t){if(t){var k=new Date;k.setTime((new Date).getTime()+36E5*t)}window.document.cookie=p+"="+u+"; "+(t?"expires="+k.toGMTString()+"; ":"")+(s?"path="+s+"; ":"path=/; ")+(r?"domain="+r+";":"domain="+e+";");return true},get:function(p){p=window.document.cookie.match(RegExp("(?:^|;+|\\s+)"+p+"=([^;]*)"));return!p?"":p[1]},remove:function(p,u,r){window.document.cookie=p+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(r?"path="+
r+"; ":"path=/; ")+(u?"domain="+u+";":"domain="+e+";")}}});Jx().$package(function(f){f.localStorage={setItem:function(e,p){this.isSupports()&&window.localStorage.setItem(e,p)},getItem:function(e){if(this.isSupports())return window.localStorage.getItem(e);return null},removeItem:function(e){this.isSupports()&&window.localStorage.removeItem(e)},clear:function(){this.isSupports()&&window.localStorage.clear()},isSupports:function(){return"localStorage"in window&&window.localStorage!==null}}});
Jx().$package(function(f){f.format=f.format||{};f.format.date=function(e,p){var u={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};if(/(Y+)/.test(p))p=p.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length));for(var r in u)if(RegExp("("+r+")").test(p))p=p.replace(RegExp.$1,RegExp.$1.length==1?u[r]:("00"+u[r]).substr((""+u[r]).length));return p};f.format.number=function(e,p){for(var u=
e?e.toString().split("."):["0"],r=p?p.split("."):[""],s="",t=u[0],k=r[0],g=t.length-1,q=false,h=k.length-1;h>=0;h--)switch(k.substr(h,1)){case "":if(g>=0)s=t.substr(g--,1)+s;break;case "0":s=g>=0?t.substr(g--,1)+s:"0"+s;break;case ",":q=true;s=","+s}if(g>=0)if(q)for(k=t.length;g>=0;g--){s=t.substr(g,1)+s;if(g>0&&(k-g)%3==0)s=","+s}else s=t.substr(0,g+1)+s;s+=".";t=u.length>1?u[1]:"";k=r.length>1?r[1]:"";for(h=g=0;h<k.length;h++)switch(k.substr(h,1)){case "":if(g<t.length)s+=t.substr(g++,1);break;
case "0":s+=g<t.length?t.substr(g++,1):"0"}return s.replace(/^,+/,"").replace(/\.$/,"")}});Jx().$package(function(f){f.date=f.date||{};f.date.format=f.format.date});Jx().$package(function(f){if(window.console)for(var e=["profile","warn","error","info","debug"],p=function(t,k){return function(g){t[k](g)}},u=0,r=e.length,s;u<r;u++){s=e[u];f[s]=console[s]?p(console,s=="profile"?"log":s):p(console,"log")}});
Jx().$package(function(f){var e=f.Class({init:function(){var p=this;this.op=[{".":function(u,r){return r.className==u},"+":function(u,r){return r.getAttribute(u)},"#":function(u,r){return r.id==u},".~":function(u,r){return $D.hasClass(r,u)}},{">":function(u,r){var s,t,k;k=u.split(">");t=k[0];k=k[1];if((k=="*"?true:p.match(k,r))&&(s=p.operate(p.detectAncestor,t,r)()))return p.packEvent(r,s);return false}},{"!":function(u,r){u=u.substr(1);return!p.match(u,r)}},{"&&":function(u,r){var s,t;t=u.split("&&");
s=t[0];t=t.slice(1).join("");if(p.match(s,r))return t.indexOf("&&")==-1?p.match(t,r):arguments.callee(t,r);return false}}];this.op2Level=[[".","#","+",".~"],">","!","&&"]},detectAncestor:function(p,u,r){var s=5,t=u.target;return function(){if(r(p,t))return t;else if(s>0){s--;if(t.parentNode)t=t.parentNode;else s=0;return arguments.callee()}return null}},detect:function(p,u,r){var s=u.target;if(s.nodeType!=1){s=s.parentNode;if(r(p,s))return this.packEvent(u,s)}else return r(p,s);return false},packEvent:function(p,
u){return[true,{target:u,oTarget:p.target,stopPropagation:function(){p.stopPropagation()},preventDefault:function(){p.preventDefault()},pageX:p.pageX,pageY:p.pageY}]},operate:function(p,u,r){for(var s,t=3;t>0;){if(s=this.op[0][u.substr(0,t)]){var k=null;if(k=p(u.substr(t),r,s))return k}t--}return false},match:function(p,u){for(var r=this.op2Level.length;r>0;r--){var s=this.op2Level[r];if(p.indexOf(s)!=-1)return this.op[r][s](p,u,void 0)}return this.operate(this.detect,p,u)},router:function(p,u,r){p=
p.split(",");var s;for(r=p.length-1;r>=0;r--)if(s=this.match(p[r],u))return s;return false},parse:function(p,u,r){p=this.router(p,r);if(p.length==2)u(p[1]);else p&&u(r)}});f.event.eventParser=new e});
Jx().$package(function(f){var e=f.event,p={"#":"id",".":"className","@":"el","!":"!"},u={blur:1,focus:1,change:1};f.event.eventProxy=function(r,s){var t={},k,g;for(k in s){g=s[k];var q=k.split(" "),h=q[0];q=q[1];t[q]=t[q]||[];t[q].push([h,g])}k=g=null;for(k in t){g=t[k];if(u[k]||k.charAt(0)=="@")for(q=g.length-1;q>=0;q--){h=g[q][0].split(",");for(var l=h.length-1;l>=0;l--){var n=p[h[l].charAt(0)];if(n=="id")e.on($D.id(h[l].substr(1)),k,g[q][1]);else n=="el"&&e.on(r,k.substr(1),g[q][1])}}else e.on(r,
k,function(a){for(var b=g.length-1;b>=0;b--)f.event.eventParser.parse(g[b][0],g[b][1],a)})}}});Jx().$package(function(f){f.fx=f.fx||{}});
Jx().$package(function(f){var e=f.dom,p=f.event,u=new f.Class({init:function(a,b){b=f.array.toArray(b);return f.extend(a,{easeIn:function(c){return a(c,b)},easeOut:function(c){return 1-a(1-c,b)},easeInOut:function(c){return c<=0.5?a(2*c,b)/2:(2-a(2*(1-c),b))/2}})}}),r={linear:function(a){return a},extend:function(a){for(var b in a)this[b]=new u(a[b])}};r.extend({pow:function(a,b){return Math.pow(a,b&&b[0]||6)},exponential:function(a){return Math.pow(2,8*(a-1))},circular:function(a){return 1-Math.sin(Math.acos(a))},
sinusoidal:function(a){return 1-Math.sin((1-a)*Math.PI/2)},back:function(a,b){b=b&&b[0]||1.618;return Math.pow(a,2)*((b+1)*a-b)},bounce:function(a){for(var b,c=0,d=1;;c+=d,d/=2)if(a>=(7-4*c)/11){b=d*d-Math.pow((11-6*c-11*a)/4,2);break}return b},elastic:function(a,b){return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(b&&b[0]||1)/3)}});f.array.forEach(["quadratic","cubic","quartic","quintic"],function(a,b){r[a]=new u(function(c){return Math.pow(c,[b+2])})});var s=new f.Class({init:function(a){this.setOption(a)},
setOption:function(a){this.option=f.extend({duration:500,loop:1,fps:1E3/(a&&a.duration||500)},a)},start:function(){if(!this.check())return this;var a=this.option;this.time=0;this.loop=a.loop;this.onStart.apply(this,arguments);this.startTimer();return this},pause:function(){this.stopTimer();return this},resume:function(){this.startTimer();return this},end:function(){this.stopTimer()&&this.onEnd.apply(this,arguments);return this},cancel:function(){this.stopTimer()&&this.onCancel.apply(this,arguments);
return this},onStart:function(){p.notifyObservers(this,"start")},onEnd:function(){p.notifyObservers(this,"end")},onCancel:function(){p.notifyObservers(this,"cancel")},onLoop:function(){p.notifyObservers(this,"loop")},onBeater:function(){p.notifyObservers(this,"beater")},check:function(){if(!this.timer)return true;return false},setDuration:function(a){this.option.duration=a||500},update:function(){var a=f.now(),b=this.option;if(a<this.time+this.option.duration)this.onBeater((a-this.time)/b.duration);
else{this.onBeater(1);this.onLoop();if(b.loop<=0||--this.loop)this.time=a;else{this.stopTimer();this.onEnd()}}},stopTimer:function(){if(!this.timer)return false;this.time=f.now()-this.time;this.timer=q(this);return true},startTimer:function(){if(this.timer)return false;this.time=f.now()-this.time;this.timer=g(this);return true}}),t={},k={},g=function(a){var b=a.option.fps,c=t[b]||(t[b]=[]);c.push(a);k[b]||(k[b]=setInterval(function(){for(var d=c.length;d--;)c[d]&&c[d].update()},Math.round(1E3/b)));
return true},q=function(a){var b=a.option.fps,c=t[b]||[];f.array.remove(c,a);if(!c.length&&k[b])k[b]=clearInterval(k[b]);return false},h=new f.Class({extend:s},{init:function(a){h.superClass.init.apply(this,arguments);this.option=this.option||{};a=f.extend(this.option,{element:null,property:"",from:0,to:1,unit:false,transition:r.linear,fps:25,converter:l},a);this.from=a.from;this.to=a.to},getTransition:function(){return this.option.transition||r.sinusoidal.easeInOut},set:function(a){var b=this.option;
this.render(b.element,b.property,a,b.unit);return this},setFromTo:function(a,b){this.from=a;this.to=b},render:function(a,b,c,d){e.setStyle(a,b,this.option.converter(c,d))},compute:function(a,b,c){return(b-a)*c+a},onStart:function(a,b){var c=this.option;this.from=f.isNumber(a)?a:c.from;this.to=f.isNumber(b)?b:c.to;p.notifyObservers(this,"start")},onEnd:function(){this.set(this.compute(this.from,this.to,this.option.transition(1)));p.notifyObservers(this,"end")},onCancel:function(){this.set(this.compute(this.from,
this.to,this.option.transition(0)));p.notifyObservers(this,"cancel")},onBeater:function(a){this.set(this.compute(this.from,this.to,this.option.transition(a)))}}),l=function(a,b){return b?a+b:a},n=new f.Class({init:function(a){this.option=a=f.extend({element:null,property:"",from:0,to:0,unit:false,duration:500,transition:r.linear,fps:25},a);this.from=a.from;this.to=a.to},getTransition:function(){return this.option.transition||r.sinusoidal.easeInOut},update:function(){var a=f.now(),b=this.option;if(a<
this.time+this.option.duration)this.set(this.compute(this.from,this.to,b.transition((a-this.time)/b.duration)));else{this.set(this.compute(this.from,this.to,1));this.end()}},set:function(a){var b=this.option;this.render(b.element,b.property,a,b.unit);return this},setDuration:function(a){this.option.duration=a||500},setFromTo:function(a,b){this.from=a;this.to=b},render:function(a,b,c,d){c=d?c+d:c;e.setStyle(a,b,c)},compute:function(a,b,c){return(b-a)*c+a},check:function(){if(!this.timer)return true;
return false},start:function(a,b){if(!this.check(a,b))return this;var c=this.option;this.from=f.isNumber(a)?a:c.from;this.to=f.isNumber(b)?b:c.to;this.time=0;this.startTimer();this.onStart();return this},end:function(){this.stopTimer()&&this.onEnd();return this},cancel:function(){this.stopTimer()&&this.onCancel();return this},onStart:function(){p.notifyObservers(this,"start")},onEnd:function(){p.notifyObservers(this,"end")},onCancel:function(){p.notifyObservers(this,"cancel")},pause:function(){this.stopTimer();
return this},resume:function(){this.startTimer();return this},stopTimer:function(){if(!this.timer)return false;this.time=f.now()-this.time;this.timer=q(this);return true},startTimer:function(){if(this.timer)return false;this.time=f.now()-this.time;this.timer=g(this);return true}});f.fx.Beater=s;f.fx.Animation=h;f.fx.Animation2=n;f.fx.transitions=r});
Jx().$package(function(f){var e=window.JSON||{};(function(){function p(h){s.lastIndex=0;return s.test(h)?'"'+h.replace(s,function(l){var n=g[l];return typeof n==="string"?n:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function u(h,l){var n,a,b,c,d=t,j,m=l[h];if(m&&typeof m==="object"&&typeof m.toJSON==="function")m=m.toJSON(h);if(typeof q==="function")m=q.call(l,h,m);switch(typeof m){case "string":return p(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);
case "object":if(!m)return"null";t+=k;j=[];if(Object.prototype.toString.apply(m)==="[object Array]"){c=m.length;for(n=0;n<c;n+=1)j[n]=u(n,m)||"null";b=j.length===0?"[]":t?"[\n"+t+j.join(",\n"+t)+"\n"+d+"]":"["+j.join(",")+"]";t=d;return b}if(q&&typeof q==="object"){c=q.length;for(n=0;n<c;n+=1){a=q[n];if(typeof a==="string")if(b=u(a,m))j.push(p(a)+(t?": ":":")+b)}}else for(a in m)if(Object.hasOwnProperty.call(m,a))if(b=u(a,m))j.push(p(a)+(t?": ":":")+b);b=j.length===0?"{}":t?"{\n"+t+j.join(",\n"+t)+
"\n"+d+"}":"{"+j.join(",")+"}";t=d;return b}}var r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t,k,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof e.stringify!=="function")e.stringify=function(h,l,n){var a;k=t="";if(typeof n==="number")for(a=0;a<n;a+=1)k+=" ";
else if(typeof n==="string")k=n;if((q=l)&&typeof l!=="function"&&(typeof l!=="object"||typeof l.length!=="number"))throw Error("JSON.stringify");return u("",{"":h})};if(typeof e.parse!=="function")e.parse=function(h,l){function n(b,c){var d,j,m=b[c];if(m&&typeof m==="object")for(d in m)if(Object.hasOwnProperty.call(m,d)){j=n(m,d);if(j!==undefined)m[d]=j;else delete m[d]}return l.call(b,c,m)}var a;r.lastIndex=0;if(r.test(h))h=h.replace(r,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)});
if(/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){a=eval("("+h+")");return typeof l==="function"?n({"":a},""):a}throw new SyntaxError("JSON.parse");}})();f.json=e});
Jx().$package(function(f){var e=function(){function p(l,n){n=n||document;if(!/^[\w\-_#]+$/.test(l)&&n.querySelectorAll)return u(n.querySelectorAll(l));if(l.indexOf(",")>-1){for(var a=l.split(/,/g),b=[],c=0,d=a.length;c<d;++c)b=b.concat(p(a[c],n));return h(b)}a=l.match(s);c=a.pop();b=(c.match(k)||q)[1];d=!b&&(c.match(t)||q)[1];c=!b&&(c.match(g)||q)[1];if(d&&!c&&n.getElementsByClassName)c=u(n.getElementsByClassName(d));else{c=!b&&u(n.getElementsByTagName(c||"*"));if(d){c=c;d=RegExp("(^|\\s)"+d+"(\\s|$)");
for(var j=-1,m,v=-1,y=[];m=c[++j];)if(d.test(m.className))y[++v]=m;c=y}if(b)return(a=n.getElementById(b))?[a]:[]}return a[0]&&c[0]?r(a,c):c}function u(l){try{return Array.prototype.slice.call(l)}catch(n){for(var a=[],b=0,c=l.length;b<c;++b)a[b]=l[b];return a}}function r(l,n,a){var b=l.pop();if(b===">")return r(l,n,true);var c=[],d=-1,j=(b.match(k)||q)[1],m=!j&&(b.match(t)||q)[1];b=!j&&(b.match(g)||q)[1];var v=-1,y,A,x;for(b=b&&b.toLowerCase();y=n[++v];){A=y.parentNode;do{x=(x=(x=!b||b==="*"||b===
A.nodeName.toLowerCase())&&(!j||A.id===j))&&(!m||RegExp("(^|\\s)"+m+"(\\s|$)").test(A.className));if(a||x)break}while(A=A.parentNode);if(x)c[++d]=y}return l[0]&&c[0]?r(l,c):c}var s=/(?:[\w\-\\.#]+)+(?:\[\w+?=([\'"])?(?:\\\1|.)+?\1\])?|\*|>/ig,t=/^(?:[\w\-_]+)?\.([\w\-_]+)/,k=/^(?:[\w\-_]+)?#([\w\-_]+)/,g=/^([\w\*\-_]+)/,q=[null,null],h=function(){var l=+new Date,n=function(){var a=1;return function(b){var c=b[l],d=a++;if(!c){b[l]=d;return true}return false}}();return function(a){for(var b=a.length,
c=[],d=-1,j=0,m;j<b;++j){m=a[j];if(n(m))c[++d]=m}l+=1;return c}}();return p}();f.dom.mini=e});Jx().$package(function(f){f.number=f.number||{};f.number.format=f.format.number});
